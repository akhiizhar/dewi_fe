<ion-header class="header">
  <div class="header-content">
    <div>
      <h1>Hi, {{ name }}</h1>
      <p>{{ todayDate }}</p>
    </div>
    <div class="filter-button" (click)="openFilter()">
      <ion-icon name="notifications" size="large"></ion-icon>
      <span class="notification-badge" *ngIf="notificationCount > 0">
        {{ notificationCount }}
      </span>
    </div>
  </div>
</ion-header>

<ion-content class="dashboard-container" fullscreen>
  <div class="main-content">
    <!-- Scroll Cards -->
    <div class="scroll-cards">
      <div
        class="scroll-card"
        *ngFor="let stat of statusCards"
        [class.active]="activeStatus === stat.key"
        (click)="onStatusCardClick(stat.key)"
      >
        <ion-card>
          <ion-card-content>
            <div class="card-header">
              <ion-icon [name]="stat.icon" class="card-icon"></ion-icon>
              <p class="card-title">{{ stat.title }}</p>
            </div>
            <p class="card-value">{{ stat.value }}</p>
          </ion-card-content>
        </ion-card>
      </div>
    </div>

    <!-- Search Bar -->
    <ion-searchbar
      placeholder="Search"
      class="custom-searchbar"
    ></ion-searchbar>

    <!-- Filtered List -->
    <div class="section-header" *ngIf="filteredData.length >= 0">
      <h2>{{ activeStatus | titlecase }}</h2>
      <a (click)="viewAllPending()">View All</a>
    </div>

    <div class="approval-list">
      <ion-card class="approval-item" *ngFor="let item of filteredData">
        <ion-card-content>
          <div class="approval-info">
            <div>
              <h3>{{ item.title }}</h3>
              <p>
                {{ item.no_reg }} â€¢ Rp{{ item.total_amount | number: '1.0-0' }}
              </p>
            </div>
            <span>{{ item.due_date | date: 'dd MMM yyyy' }}</span>
          </div>
        </ion-card-content>
      </ion-card>
    </div>

    <div *ngIf="filteredData.length === 0" class="empty-state">
      <p>Belum ada data untuk status ini.</p>
    </div>
  </div>
</ion-content>
